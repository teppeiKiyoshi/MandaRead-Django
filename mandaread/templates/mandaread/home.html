{% extends "mandaread/base.html" %}
{% load static %}
{% block content %}
<!--PROFILE-->
<main class="container col-12 col-lg-8 mb-5">
    <div class="d-flex justify-content-between flex-column p-4 mt-3 rounded">
        <div class="d-flex flex-column flex-md-row mb-3">
            <div class="me-md-4 mb-4 d-flex flex-column align-items-center justify-content-md-center" id = 'profile-pic'>
                <img class="rounded-circle account-img border border-secondary mb-3 shadow" src="{{ user.profile.image.url }}">
                <a href="{% url 'mandaread-edit-profile' %}" class = "btn bg-secondary bg-opacity-25 btn-sm">Edit Profile</a>
            </div>
            <div class = "w-100 text-center text-md-start">
                <h2>Welcome, {{ user.username }}</h2>
                <span>Statistics: </span>
                <div class = "mt-3">
                    <div class="progress mb-3 border">
                        <div class="progress-label">Lessons Read: {{ lesson_percentage }}%</div>
                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-warning" role="progressbar" style="width: {{ lesson_percentage }}%"
                            aria-valuenow="5.0" aria-valuemin="0" aria-valuemax="100"><span class="progress-first-label">Lessons Read: {{ lesson_percentage }}%</span></div>
                    </div>
                    <div class = "d-flex mt-4 flex-column flex-md-row align-items-md-center">
                        <div>
                            <span>Achievements:</span>
                        </div>
                        <div class = "d-flex mt-3 mt-md-0 flex-wrap justify-content-center">

                            {% if lesson_percentage|add:0 >= 25 %}
                                <div class = "p-2 mx-1 mx-lg-3" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true" title="<b>Wheat of Prosperity</b> <br /> <span>Achieved when read 25% of the lessons</span>">
                            {% else %}
                                <div class = "p-2 mx-1 mx-lg-3 grayscale" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true" title="<b>Wheat of Prosperity</b> <br /> <span>Achieved when read 25% of the lessons</span>">
                            {% endif %}
                                <img class = "achievement" src="{% static 'mandaread/assets/wheat.png' %}" alt="">
                            </div>

                            {% if lesson_percentage|add:0 >= 50 %}
                                <div class = "p-2 mx-1 mx-lg-3" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true" title="<b>Terracota Helmet</b> <br /> <span>Achieved when read 50% of the lessons</span>">
                            {% else %}
                                <div class = "p-2 mx-1 mx-lg-3 grayscale" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true" title="<b>Terracota Helmet</b> <br /> <span>Achieved when read 50% of the lessons</span>">
                            {% endif %}
                                <img class = "achievement" src="{% static 'mandaread/assets/helmet.png' %}" alt="">
                            </div>
                            
                            {% if lesson_percentage|add:0 >= 100 %}
                                <div class = "p-2 mx-1 mx-lg-3" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true" title="<b>Golden Konghou</b> <br /> <span>Achieved when read 100% of the lessons</span>">
                            {% else %}
                                <div class = "p-2 mx-1 mx-lg-3 grayscale" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true" title="<b>Golden Konghou</b> <br /> <span>Achieved when read 100% of the lessons</span>">
                            {% endif %}
                                <img class = "achievement" src="{% static 'mandaread/assets/harp.png' %}" alt="">
                            </div>
                            
                            {% if user.profile.assessment_perfected %}
                                <div class = "p-2 mx-1 mx-lg-3" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true" title="<b>Lù Antlers</b> <br /> <span>Achieved when perfected an assessment</span>">
                            {% else %}
                                <div class = "p-2 mx-1 mx-lg-3 grayscale" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true" title="<b>Lù Antlers</b> <br /> <span>Achieved when perfected an assessment</span>">
                            {% endif %}
                                <img class = "achievement" src="{% static 'mandaread/assets/celtic.png' %}" alt="">
                            </div>
                            
                            {% if user.profile.mock_perfected %}
                                <div class = "p-2 mx-1 mx-lg-3" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true" title="<b>Lost Coin of Shihuangdi</b> <br /> <span>Achieved when perfected a mock examination</span>">
                            {% else %}
                                <div class = "p-2 mx-1 mx-lg-3 grayscale" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true" title="<b>Lost Coin of Shihuangdi</b> <br /> <span>Achieved when perfected a mock examination</span>">
                            {% endif %}
                                <img class = "achievement" src="{% static 'mandaread/assets/coin.png' %}" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<div class="container mb-3">
    <h2 class="text-center"></h2>
</div>

<div class="container col-12 col-lg-9 mb-5">
    <div class="row row-cols-1 row-cols-md-2 g-4">
        <div class="col">
            <div class="card shadow">
                <img src="https://media.istockphoto.com/photos/learning-chinese-picture-id157481419?k=20&m=157481419&s=612x612&w=0&h=-c3zlT5IPCpX3jMGkOLmjM21MdRxp2P7BhreCi-y6R8="
                    class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title fw-bold">Lessons</h5>
                    <p class="card-text">The most important section within Mandaread. Discover words, or phrases to
                        construct sentences!</p>
                    <div class="col w-100 text-end">
                        <a href="{% url 'mandaread-lessons' %}" class="btn btn-warning col-12 col-xl-2">Go</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card shadow">
                <img src="https://media.istockphoto.com/photos/chinese-students-and-teacher-working-together-hong-kong-asia-picture-id492197413?k=20&m=492197413&s=612x612&w=0&h=FMw27sDvQsg4a8SCgsdilR-Dro1ajnfT7wrd4kdHR04="
                    class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title fw-bold">Assessments</h5>
                    <p class="card-text">Where we'll evaluate your knowledge for each lesson. Answer now and know how
                        fluent you are!</p>
                    <div class="col w-100 text-end">
                        <a href="{% url 'mandaread-assessments' %}" class="btn btn-warning col-12 col-xl-2">Go</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card shadow">
                <img src="https://media.istockphoto.com/photos/dictionary-chineseenglish-picture-id137859472?k=20&m=137859472&s=612x612&w=0&h=Zctp6LFd8LYP7zuId96fwd6R3dOS8PymGNK5EvmJqNY="
                    class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title fw-bold">Dictionary</h5>
                    <p class="card-text">A list of Mandarin words together with its Hanzi, Pinyin, part of speech,
                        defintion, and example in a sentence!</p>
                    <div class="col w-100 text-end">
                        <a href="{% url 'mandaread-dict' %}" class="btn btn-warning col-12 col-xl-2">Go</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card shadow">
                <img src="https://media.istockphoto.com/photos/hand-on-pencil-choosing-the-test-list-on-the-examination-picture-id1020115574?k=20&m=1020115574&s=612x612&w=0&h=AVIdQHgmJwTXL-FidOMhBOxW0sZS-6d282UNzHq0_Ag="
                    class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title fw-bold">Mock Test</h5>
                    <p class="card-text">Take the mock test and overcome your mistakes! See where you're strengths and weaknesses are.</p>
                    <div class="col d-flex flex-column flex-xl-row gap-2 justify-content-md-end">
                        <a href="{% url 'mandaread-mocktest' 1 %}" class="btn btn-warning">HSK-1</a>
                        <a href="{% url 'mandaread-mocktest' 2 %}" class="btn btn-warning">HSK-2</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}